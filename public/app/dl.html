<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>Web App Store</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
:root {
  --bg: #1e1e1e;
  --card-bg: #2a2a2a;
  --text: #ececec;
  --accent: #0a84ff;
  --hover: #006edc;
  --radius: 12px;
  --card-w: 140px;
  --card-h: 180px;
}
* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}
html, body {
  height: 100%;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Hiragino Kaku Gothic Pro", Meiryo, sans-serif;
  background: var(--bg);
  color: var(--text);
}
a {
  color: inherit;
  text-decoration: none;
}
button {
  font: inherit;
}
header {
  width: 100%;
  max-width: 900px;
  margin: 0 auto;
  padding: 1rem;
  display: flex;
  align-items: center;
  background: var(--card-bg);
  border-bottom: 1px solid #444;
}
#back-button {
  background: none;
  border: none;
  color: var(--accent);
  font-size: 1.2rem;
  cursor: pointer;
}
#page-title {
  flex: 1;
  text-align: center;
  font-size: 1.5rem;
}
main {
  width: 100%;
  max-width: 900px;
  margin: 1rem auto;
  padding: 0 1rem;
}
section {
  display: none;
}
section.active {
  display: block;
}
.app-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(var(--card-w), 1fr));
  gap: 1rem;
  justify-items: center;
  justify-content: center;
}
.app-card {
  width: var(--card-w);
  height: var(--card-h);
  background: var(--card-bg);
  border-radius: var(--radius);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: space-between;
  padding: 1rem 0.5rem;
  text-align: center;
  transition: transform .2s, box-shadow .2s;
  cursor: pointer;
}
.app-card:hover {
  transform: translateY(-6px);
  box-shadow: 0 12px 24px rgba(0,0,0,0.5);
}
.app-card .icon {
  width: 64px;
  height: 64px;
  line-height: 64px;
  font-size: 2.5rem;
  background: rgba(255,255,255,0.1);
  border-radius: 50%;
  display: block;
}
.app-card .name {
  font-size: 0.9rem;
  margin-top: 0.5rem;
  word-break: break-word;
}
#detail-content {
  max-width: 480px;
  margin: 2rem auto;
  background: var(--card-bg);
  border-radius: var(--radius);
  padding: 2rem;
  text-align: center;
}
#detail-content .icon {
  font-size: 4rem;
  background: rgba(255,255,255,0.1);
  width: 96px;
  height: 96px;
  line-height: 96px;
  border-radius: 50%;
  margin: 0 auto 1rem;
  display: block;
}
#detail-content h2 {
  margin-bottom: 1rem;
  font-size: 1.4rem;
}
#detail-content p {
  margin-bottom: 1.5rem;
  line-height: 1.6;
  color: #ccc;
}
.btn {
  display: inline-block;
  background: var(--accent);
  color: #fff;
  border: none;
  border-radius: var(--radius);
  padding: 0.6rem 1.2rem;
  font-size: 1rem;
  cursor: pointer;
  transition: background .2s;
  margin: 0.25rem;
}
.btn:hover {
  background: var(--hover);
}
.btn:disabled {
  opacity: 0.5;
  cursor: default;
}
.url-input {
  width: 100%;
  padding: 0.6rem;
  margin-bottom: 1rem;
  border: 1px solid #444;
  border-radius: var(--radius);
  background: var(--bg);
  color: var(--text);
}
</style>
</head>
<body>
<header>
<button id="back-button" style="visibility:hidden">‚Üê Êàª„Çã</button>
<h1 id="page-title">App Store</h1>
</header>
<main>
<section id="store" class="active">
<div class="app-grid" id="app-grid"></div>
</section>
<section id="detail">
<div id="detail-content"></div>
</section>
</main>
<script>
const apps = [
  { id:"brosta", name:"„Éñ„É≠„Çπ„Çø", desc:"„É™„Ç¢„É´„Çø„Ç§„É†ÂØæÊà¶„Ç¢„ÇØ„Ç∑„Éß„É≥„ÄÇ‰∏ñÁïå‰∏≠„ÅÆ„Éó„É¨„Ç§„É§„Éº„Å®„Éê„Éà„É´ÔºÅ", emoji:"‚öîÔ∏è", url:"https://example.com/brosta.html" },
  { id:"rubik", name:"„É´„Éº„Éì„ÉÉ„ÇØ„Ç≠„É•„Éº„Éñ", desc:"3D„Éë„Ç∫„É´„ÅßÁ´ã‰ΩìÊÄùËÄÉ„ÇíÈçõ„Åà„Çã„ÄÇÊèÉ„Åà„ÅüÁû¨Èñì„ÅåÂø´ÊÑüÔºÅ", emoji:"üü•üü¶üü®", url:"https://example.com/rubik.html" },
  { id:"minesweeper", name:"„Éû„Ç§„É≥„Çπ„Ç§„Éº„Éë„Éº", desc:"Ë´ñÁêÜ„ÅßÂú∞Èõ∑„ÇíÂõûÈÅø„ÄÇÂÆöÁï™È†≠ËÑ≥„Ç≤„Éº„É†„ÇíÊ•µ„ÇÅ„Çà„ÅÜÔºÅ", emoji:"üí£", url:"https://example.com/minesweeper.html" },
  { id:"minecraft", name:"„Éû„Ç§„ÇØ„É© v1.1", desc:"„Çµ„É≥„Éâ„Éú„ÉÉ„ÇØ„Çπ„ÅßÂâµÈÄ†ÁÑ°ÈôêÂ§ß„ÄÇÂÜíÈô∫„Å®„ÇØ„É©„Éï„Éà„ÅÆ‰∏ñÁïå„Å∏ÔºÅ", emoji:"üß±", url:"https://example.com/minecraft.html" },
  { id:"tetris", name:"„ÉÜ„Éà„É™„Çπ", desc:"ËêΩ„Å°„ÇÇ„ÅÆ„Éë„Ç∫„É´„ÅÆÁéãÈÅì„ÄÇ„É©„Ç§„É≥„ÇíÊ∂à„Åó„Åæ„Åè„Å£„Å¶„Éè„Ç§„Çπ„Ç≥„Ç¢ÔºÅ", emoji:"üî≥", url:"https://example.com/tetris.html" },
  { id:"tetris-s", name:"„ÉÜ„Éà„É™„ÇπË¶≥Êà¶„É¢„Éº„Éâ", desc:"ÂèãÈÅî„ÅÆ„Éó„É¨„Ç§„Çí„É©„Ç§„ÉñË¶≥Êà¶„ÄÇËß£Ë™¨‰ªò„Åç„ÅßÁõõ„Çä‰∏ä„Åå„Çç„ÅÜÔºÅ", emoji:"üëÄ", url:"https://example.com/tetris-spectator.html" },
  { id:"custom", name:"URL„Åã„Çâ„ÉÄ„Ç¶„É≥„É≠„Éº„Éâ", desc:"‰ªªÊÑè„ÅÆURL„Åã„ÇâHTML„ÇíÂèñÂæó„Åó„Å¶ÂÆüË°å„ÄÇËá™Áî±Â∫¶MAXÔºÅ", emoji:"üåê", url:"" }
];
const gridEl = document.getElementById("app-grid");
const storeSec = document.getElementById("store");
const detailSec = document.getElementById("detail");
const backBtn = document.getElementById("back-button");
const pageTitle = document.getElementById("page-title");
const detailCt = document.getElementById("detail-content");
apps.forEach(a => {
  const card = document.createElement("div");
  card.className = "app-card";
  card.innerHTML = `<span class="icon">${a.emoji}</span><div class="name">${a.name}</div>`;
  card.onclick = () => location.hash = `#app=${a.id}`;
  gridEl.append(card);
});
function route() {
  const h = location.hash.slice(1);
  if (!h.startsWith("app=")) {
    pageTitle.textContent = "App Store";
    backBtn.style.visibility = "hidden";
    storeSec.classList.add("active");
    detailSec.classList.remove("active");
  } else {
    showDetail(h.split("=")[1]);
  }
}
window.addEventListener("hashchange", route);
window.addEventListener("load", route);
backBtn.addEventListener("click", () => location.hash = "");
function showDetail(id) {
  const app = apps.find(x => x.id === id);
  if (!app) return location.hash = "";
  pageTitle.textContent = app.name;
  backBtn.style.visibility = "visible";
  storeSec.classList.remove("active");
  detailSec.classList.add("active");
  detailCt.innerHTML = `<span class="icon">${app.emoji}</span><h2>${app.name}</h2><p>${app.desc}</p>`;
  let input;
  if (id === "custom") {
    input = document.createElement("input");
    input.className = "url-input";
    input.placeholder = "HTML „ÅÆ URL „ÇíÂÖ•Âäõ";
    detailCt.append(input);
  }
  const dl = document.createElement("button");
  dl.className = "btn";
  dl.textContent = "Download";
  const op = document.createElement("button");
  op.className = "btn";
  op.textContent = "Open";
  detailCt.append(dl, op);
  if (id === "custom") {
    dl.disabled = op.disabled = true;
    input.oninput = () => {
      const ok = input.value.trim().startsWith("http");
      dl.disabled = op.disabled = !ok;
    };
  }
  function fetchAnd(action) {
    const u = id === "custom" ? input.value.trim() : app.url;
    fetch(u)
      .then(r => r.text())
      .then(html => action(html))
      .catch(e => alert("ÂèñÂæóÂ§±Êïó: " + e));
  }
  dl.onclick = () => fetchAnd(html => {
    const blob = new Blob([html], { type: "text/html" });
    const a = document.createElement("a");
    a.href = URL.createObjectURL(blob);
    a.download = `${app.name}.html`;
    document.body.append(a);
    a.click();
    a.remove();
    URL.revokeObjectURL(a.href);
  });
  op.onclick = () => fetchAnd(html => {
    const w = window.open("about:blank");
    w.document.open();
    w.document.write(html);
    w.document.close();
  });
}
</script>
</body>
</html>